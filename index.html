<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
    <!-- 
        1.äº†è§£svg
        2.äº†è§£gsapä¸­çš„TweenMax
        3.äº†è§£snap.svg
        4.äº†è§£jquery
        ä½¿ç”¨å·¥å…·
     -->
    <!-- èœé¸Ÿå·¥å…·åšsvgå›¾ç‰‡é“¾æ¥ï¼šhttps://c.runoob.com/more/svgeditor/#delete -->
    <!-- å¼•å…¥jquery -->
    <!-- https://jquery.cuishifeng.cn/ -->
    <script src='https://code.jquery.com/jquery-2.2.4.min.js'></script>
    <!-- å¼•å…¥gsap -->
    <!-- gsapå®˜æ–¹æ–‡æ¡£  https://greensock.com/docs/v2/TweenMax-->
    <script src='https://cdnjs.cloudflare.com/ajax/libs/gsap/1.19.0/TweenMax.min.js'></script>
    <!-- å¼•å…¥snap.svg -->
    <!-- snap.svgå®˜æ–¹æ–‡æ¡£ http://snapsvg.io/docs/ -->
    <script src='https://cdnjs.cloudflare.com/ajax/libs/snap.svg/0.4.1/snap.svg-min.js'></script>
    <style>
        /* å¯¼å…¥æ–‡å­—æ ·å¼ */
        @import 'https://fonts.googleapis.com/css?family=Lato:300';
        /* å¯¼å…¥å›¾ç‰‡æ ·å¼ */
        @import 'https://cdnjs.cloudflare.com/ajax/libs/weather-icons/2.0.9/css/weather-icons.min.css';

        html,
        body,
        .background {
            width: 100%;
            height: 100%;
            margin: 0;
            padding: 0;
            font-family: "Lato", sans-serif;
        }
        body {
            background: #eee;
            /* èƒŒæ™¯æ¸å˜ */
            background: linear-gradient(0deg, rgba(0, 0, 200, 0.2), rgba(0, 0, 200, 0));
        }

        .container {
            /* å¼¹æ€§ç›’å­ */
            display: flex;
            /* ç«–åˆ—é¡ºåº */
            flex-direction: column;
            /* æ¨ªå‘å±…ä¸­ */
            align-items: center;
            /* çºµå‘å±…ä¸­ */
            justify-content: center;
            margin: 0;
            padding: 0;
            height: 100%;
            width: 100%;
            overflow: auto;
            position: relative;
            /* èƒŒæ™¯æ¸å˜ */
            background: linear-gradient(240deg, rgba(150, 50, 50, 0.3), rgba(0, 0, 200, 0));
        }
        /* äº”ä¸ªå¤©æ°”é€‰æ‹©é¡¹ */
        nav ul {
            margin: 20px 20px 0 20px;
            /* å»æ‰liå‰é¢çš„å°é»‘ç‚¹ */
            list-style-type: none;
            padding: 0;
            /* å¼¹æ€§ç›’å­ */
            display: flex;
            /* æ¨ªå‘æ’åˆ— */
            flex-direction: row;
        }
        /* å›¾æ ‡çš„å¤§å° */
        nav li a {
            display: block;
            width: 50px;
            text-align: center;
            color: #aaa;
            cursor: pointer;
        }
        /* é¼ æ ‡è§¦ç¢°çš„æ—¶å€™ */
        nav li a:hover {
            color: #444;
        }
        /* é¼ æ ‡ç‚¹å‡»çš„æ—¶å€™ */
        nav li a.active {
            color: #4444ff;
        }
        /* å¡ç‰‡ */
        #card {
            /* é˜´å½± */
            box-shadow: 9px 7px 40px -6px rgba(0, 0, 0, 0.25);
            overflow: hidden;
            width: 300px;
            padding: 0;
            height: 400px;
            min-height: 300px;
            margin: 20px;
            border-radius: 5px;
            position: relative;
        }
        /* å¡ç‰‡ä¸­çš„æ•°å­—å’Œæ–‡å­—ä»‹ç» */
        #card .details {
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            padding: 16px 20px;
            color: #888;
            /* å¼¹æ€§ç›’å­ */
            display: flex;
            /* è¡Œåˆ—æ’åºï¼Œå½“ç„¶ä¹Ÿå¯ä»¥ä¸å†™ï¼Œé»˜è®¤çš„ */
            flex-direction: row;
            /* å¾€ä¸¤è¾¹é æ‹¢ï¼Œå·¦å³å¯¹ç§° */
            justify-content: space-between;
            /* åˆ‡æ¢æ–‡å­—çš„æ—¶å€™ï¼Œcolorçš„å˜åŒ–åŠ¨ç”» */
            transition: color 2s ease;
        }
        /* æ‰“é›·èƒŒæ™¯å›¾æ˜¯é»‘è‰²çš„ï¼Œæ‰€ä»¥æ–‡å­—è¦ææˆç™½è‰²çš„æ‰èƒ½çœ‹çš„æ¸… */
        .thunder #card .details {
            color: #ddd;
        }
        /* æ‘„æ°åº¦é å·¦ */
        #card .details .temp {
            font-size: 60px;
            line-height: 60px;
        }

        #card .details .temp span {
            font-size: 18px;
            line-height: 30px;
            /* vertical-align ç”¨æ¥æŒ‡å®šè¡Œå†…å…ƒç´ ï¼ˆinlineï¼‰æˆ–è¡¨æ ¼å•å…ƒæ ¼ï¼ˆtable-cellï¼‰å…ƒç´ çš„å‚ç›´å¯¹é½æ–¹å¼ */
            vertical-align: top;
            margin-left: 5px;
        }
        /* æ–‡å­—è¦è€ƒå³ */
        #card .details .right {
            text-align: right;
        }
        /* æ—¥æœŸ */
        #card .details #date {
            margin: 4px 0;
        }
        /* æ–‡å­— */
        #card .details #summary {
            font-weight: 600;
            font-size: 22px;
        }
        /* å¡ç‰‡é¢œè‰² */
        .weather {
            background-color: #DAE3FD;
            transition: background-color 2s ease;
        }
        /* æ‰“é›·çš„å¡ç‰‡é¢œè‰² */
        .thunder .weather {
            background-color: #9FA4AD;
        }
        /* ä¸‹é›¨çš„å¡ç‰‡é¢œè‰² */
        .rain .weather {
            background-color: #D8D8D8;
        }
        /* æ™´å¤©çš„å¡ç‰‡é¢œè‰² */
        .sun .weather {
            background-color: #ccccff;
        }
        /* svgå›¾ç‰‡ */
        .weather #inner {
            background-color: white;
            background: linear-gradient(to bottom, rgba(255, 255, 255, 0.5) 50%, rgba(255, 255, 255, 0) 100%);
        }
        /* äº‘ */
        .weather .cloud {
            transition: fill 2s ease;
        }
        /* äº‘æœµä¸€ */
        .weather #cloud1 {
            fill: #efefef;
        }
        /* é›·æ­£é›¨ä¸‹çš„äº‘æœµä¸€ */
        .thunder .weather #cloud1 {
            fill: #9FA4AD;
        }
        /* äº‘æœµäºŒ */
        .weather #cloud2 {
            fill: #E6E6E6;
        }
        /* é›·æ­£é›¨ä¸‹çš„äº‘æœµäºŒ */
        .thunder .weather #cloud2 {
            fill: #8B8E98;
        }
        /* äº‘æœµä¸‰ */
        .weather #cloud3 {
            fill: #D5D5D5;
        }
        /* é›·æ­£é›¨ä¸‹çš„äº‘æœµä¸‰ */
        .thunder .weather #cloud3 {
            fill: #7B7988;
        }
        /* å›ºå®šé£˜å‡ºæ¥çš„é›ªï¼Œæ ‘å¶ç­‰svgå’ŒèƒŒåçš„å¤ªé˜³å…‰ */
        #outer,
        #back {
            /* å›ºå®šä½ç½® */
            position: fixed;
            /* é¼ æ ‡äº‹ä»¶å¤„ç† */
            pointer-events: none;
        }
    </style>

<body translate="no">
    <div class="background">
        <div class="container">
            <!-- å¤ªé˜³å…‰ å½±è—åœ¨å›¾ç‰‡èƒŒåï¼Œéœ€è¦çš„æ—¶å€™å±•ç°-->
            <svg id="back">
                <!-- radialGradient ç”¨æ¥å®šä¹‰å¾„å‘æ¸å˜ï¼Œä»¥å¯¹å›¾å½¢å…ƒç´ è¿›è¡Œå¡«å……æˆ–æè¾¹ã€‚ -->
                <radialGradient id="SVGID_1_" cx="0" cy="0" r="320.8304" gradientUnits="userSpaceOnUse">
                    <!-- ä¸€ä¸ªæ¸å˜ä¸Šçš„é¢œè‰²å¡åº¦ï¼Œæ˜¯ç”¨stopå…ƒç´ å®šä¹‰çš„ -->
                    <stop offset="0" style="stop-color:#FFDE17;stop-opacity:0.7" />
                    <stop offset="1" style="stop-color:#FFF200;stop-opacity:0" />
                </radialGradient>
                <!-- å›¾ç‰‡è·¯å¾„ -->
                <path id="sunburst" style="fill:url(#SVGID_1_);" d="M0,319.7c-18.6,0-37.3-1.6-55.5-4.8L-7.8,41.4c5.1,0.9,10.6,0.9,15.7,0L56,314.8C37.6,318,18.8,319.7,0,319.7z
	 M-160.8,276.6c-32.5-18.8-61.3-42.9-85.5-71.6L-34,26.2c3.4,4.1,7.4,7.4,12,10.1L-160.8,276.6z M161.3,276.4L22.1,36.2
	c4.5-2.6,8.6-6,12-10.1l212.6,178.5C222.5,233.4,193.8,257.6,161.3,276.4z M-302.5,108.3C-315.4,73-321.9,36-322-1.8l277.6-0.5
	c0,5.3,0.9,10.4,2.7,15.2L-302.5,108.3z M302.6,107.8L41.8,12.8c1.7-4.7,2.6-9.7,2.6-14.9c0-0.3,0-0.6,0-1H322l0-1.3l0,1.9
	C322,35.4,315.5,72.5,302.6,107.8z M-41.8-17.5l-261-94.5c12.8-35.4,31.6-68,55.8-96.9L-34.1-30.8C-37.5-26.8-40.1-22.3-41.8-17.5z
	 M41.7-17.7c-1.8-4.8-4.4-9.3-7.8-13.3l212-179.2c24.3,28.8,43.3,61.3,56.3,96.6L41.7-17.7z M-22.2-40.8l-139.6-240
	c32.7-19,68.1-32,105.2-38.6L-8-46.1C-13-45.2-17.8-43.4-22.2-40.8z M22-40.9c-4.4-2.6-9.2-4.3-14.2-5.1l47.1-273.6
	c37.2,6.4,72.7,19.2,105.4,38L22-40.9z" />
            </svg>
            <!-- <nav> å…ƒç´ åªæ˜¯ä½œä¸ºæ ‡æ³¨ä¸€ä¸ªå¯¼èˆªé“¾æ¥çš„åŒºåŸŸã€‚ -->
            <nav>
                <ul>
                    <!-- å¯ç‚¹å‡»çš„æŒ‰é’® -->
                    <li><a id="button-snow" class="active"><i class="wi wi-snow"></i></a></li>
                    <li><a id="button-wind"><i class="wi wi-strong-wind"></i></a></li>
                    <li><a id="button-rain"><i class="wi wi-rain"></i></a></li>
                    <li><a id="button-thunder"><i class="wi wi-lightning"></i></a></li>
                    <li><a id="button-sun"><i class="wi wi-day-sunny"></i></a></li>
                </ul>
            </nav>
            <div id="card" class="weather">
                <svg id="inner">
                    <!-- 
                        SVG å…è®¸æˆ‘ä»¬å®šä¹‰ä»¥åéœ€è¦é‡å¤ä½¿ç”¨çš„å›¾å½¢å…ƒç´ ã€‚
                        å»ºè®®æŠŠæ‰€æœ‰éœ€è¦å†æ¬¡ä½¿ç”¨çš„å¼•ç”¨å…ƒç´ å®šä¹‰åœ¨defså…ƒç´ é‡Œé¢ã€‚
                        è¿™æ ·åšå¯ä»¥å¢åŠ  SVG å†…å®¹çš„æ˜“è¯»æ€§å’Œå¯è®¿é—®æ€§ã€‚ 
                        åœ¨defså…ƒç´ ä¸­å®šä¹‰çš„å›¾å½¢å…ƒç´ ä¸ä¼šç›´æ¥å‘ˆç°ã€‚ 
                        ä½ å¯ä»¥åœ¨ä½ çš„è§†å£çš„ä»»æ„åœ°æ–¹åˆ©ç”¨ <use>å…ƒç´ å‘ˆç°è¿™äº›å…ƒç´ ã€‚
                     -->
                     <defs>
                        <!-- æ ‘å¶çš„svg -->
                        <path id="leaf"
                            d="M41.9,56.3l0.1-2.5c0,0,4.6-1.2,5.6-2.2c1-1,3.6-13,12-15.6c9.7-3.1,19.9-2,26.1-2.1c2.7,0-10,23.9-20.5,25 c-7.5,0.8-17.2-5.1-17.2-5.1L41.9,56.3z" />
                    </defs>
                    <!-- å¤ªé˜³çš„svg -->
                    <circle id="sun" style="fill: #F7ED47" cx="0" cy="0" r="50" />
                    <!-- 
                        <g>æ ‡è®°å°±æ˜¯â€˜groupâ€™çš„ç®€å†™ï¼Œæ˜¯ç”¨æ¥åˆ†ç»„ç”¨çš„ï¼Œå®ƒèƒ½æŠŠå¤šä¸ªå…ƒç´ æ”¾åœ¨ä¸€ç»„é‡Œï¼Œ
                        å¯¹<g>æ ‡è®°å®æ–½çš„æ ·å¼å’Œæ¸²æŸ“ä¼šä½œç”¨åˆ°è¿™ä¸ªåˆ†ç»„å†…çš„æ‰€æœ‰å…ƒç´ ä¸Šã€‚
                        ç»„å†…çš„æ‰€æœ‰å…ƒç´ éƒ½ä¼šç»§æ‰¿<g>æ ‡è®°ä¸Šçš„æ‰€æœ‰å±æ€§ã€‚
                        ç”¨<g>å®šä¹‰çš„åˆ†ç»„è¿˜å¯ä»¥ä½¿ç”¨<use>è¿›è¡Œå¤åˆ¶ä½¿ç”¨ã€‚
                     -->
                    <g id="layer3"></g>
                    <g id="cloud3" class="cloud"></g>
                    <g id="layer2"></g>
                    <g id="cloud2" class="cloud"></g>
                    <g id="layer1"></g>
                    <g id="cloud1" class="cloud"></g>
                </svg>
                <div class="details">
                    <!-- æ¸©åº¦ -->
                    <div class="temp">20<span>c</span></div>
                    <div class="right">
                        <!-- æ—¥æœŸ -->
                        <div id="date">2022/6/14</div>
                        <!-- æ–‡å­— -->
                        <div id="summary"></div>
                    </div>
                </div>
            </div>
            <!-- å¯åºŸé™¤å¡ç‰‡ç•Œé¢çš„svgå†…å®¹ -->
            <svg id="outer"></svg>
        </div>
    </div>

    <script id="rendered-js">
        var container = $('.container');
        var card = $('#card');
        // snapçš„ä½¿ç”¨æ–¹æ³•
        /**
         * var s = Snap("#svg")
         * var bigCircle = s.circle(150,150,100) å®šä½ï¼Œå®šå‹ï¼Œå®šå¤§å°
         * bigCircle.attr({
         *      fill:"color", ç›¸å½“äºbackground
         *      stroke:"color",  ç›¸å½“äºborder-color
         *      strokeWidth:5  ç›¸å½“äºborder-width
         * })
        */
        var innerSVG = Snap('#inner');
        var outerSVG = Snap('#outer');
        var backSVG = Snap('#back');
        var summary = $('#summary');
        var date = $('#date');
        var weatherContainer1 = Snap('#layer1');
        var weatherContainer2 = Snap('#layer2');
        var weatherContainer3 = Snap('#layer3');
        // Paper.group() === Paper.g([varargs]) ä¸€æ ·çš„
        // è‡ªåŠ¨åˆ›å»ºä¸€ä¸ª<g>åˆ°è‡ªèº«çš„å…ƒç´ ä¸­ä½œä¸ºå­å…ƒç´ 
        // éœ€è¦ä¸‰å—<g>è‡ªè¡Œéšæœºæ‰è½é›¨ç‚¹
        var innerRainHolder1 = weatherContainer1.group();
        var innerRainHolder2 = weatherContainer2.group();
        var innerRainHolder3 = weatherContainer3.group();
        var innerLeafHolder = weatherContainer1.group();
        var innerSnowHolder = weatherContainer1.group();
        var innerLightningHolder = weatherContainer1.group();
        // ç»˜ç”»ä¸€ä¸ªçŸ©å½¢ï¼ŒåŠ å…¥åˆ°å¯è¶…å‡ºå¡ç‰‡ç•Œé¢çš„svgä¸­
        // å¯é€‰ Paper.rect(x, y, width, height, [rx], [ry])
        var leafMask = outerSVG.rect();
        // æ ‘å¶
        var leaf = Snap('#leaf');
        // å¤ªé˜³
        var sun = Snap('#sun');
        // å¤ªé˜³å…‰
        var sunburst = Snap('#sunburst');
        var outerSplashHolder = outerSVG.group();
        var outerLeafHolder = outerSVG.group();
        var outerSnowHolder = outerSVG.group();
        // å¡ç‰‡æ˜æš—äº®åº¦è®¡æ—¶å™¨
        var lightningTimeout;
        // æŠŠåˆšåšçš„çŸ©å½¢åŠ å…¥åˆ°outerLeafHolderä¸­ï¼Œä½œä¸ºé®ç½©
        // é®ç½©æ˜¯ç”¨æ¥ç»˜ç”»é£˜å‡ºæ¥çš„é›ªï¼Œæ ‘å¶ï¼Œé›¨æ°´ç­‰
        outerLeafHolder.attr({
            'clip-path': leafMask
        });
        // å¡ç‰‡å¤§å°
        var sizes = {
            container: { width: 0, height: 0 },
            card: { width: 0, height: 0 }
        };
        // äº‘å±‚çš„åˆ†ç±»
        var clouds = [
            { group: Snap('#cloud1') },
            { group: Snap('#cloud2') },
            { group: Snap('#cloud3') }];
        // è®¾ç½®æ¯ä¸€ä¸ªå¤©æ°”å¯¹åº”çš„åå­—
        var weather = [
            { type: 'snow', name: 'ä¸‹é›ª' },
            { type: 'wind', name: 'å¤§é£' },
            { type: 'rain', name: 'ä¸‹é›¨' },
            { type: 'thunder', name: 'é›·é˜µé›¨' },
            { type: 'sun', name: 'é˜³å…‰' }];

        // æ·»åŠ è®¾ç½®
        var settings = {
            // é£çš„é€Ÿåº¦
            windSpeed: 2,
            // é›¨çš„æ•°é‡
            rainCount: 0,
            // æ ‘å¶çš„æ•°é‡
            leafCount: 0,
            // é›ªçš„æ•°é‡
            snowCount: 0,
            // äº‘çš„é«˜åº¦
            cloudHeight: 100,
            // äº‘ç©ºé—´
            cloudSpace: 30,
            // æ‹±å‹
            cloudArch: 50,
            // é£æº…å¼¹è·³
            splashBounce: 80
        };
        // é›¨çš„æ•°ç»„
        var rain = [];
        // æ ‘å¶çš„æ•°ç»„
        var leafs = [];
        // é›ªçš„æ•°ç»„
        var snow = [];
        // åˆå§‹åŒ–
        init();
        // å½“è°ƒæ•´æµè§ˆå™¨çª—å£çš„å¤§å°æ—¶ï¼Œå‘ç”Ÿ resize äº‹ä»¶ã€‚
        $(window).resize(onResize);

        // ğŸƒ å¼€å§‹åŠ¨ç”»
        // å®ç°ä¸€ä¸ªæ— é™å¾ªç¯çš„åŠ¨ç”»
        /**
         * requestAnimationFrame æ¯”èµ· setTimeoutã€setIntervalçš„ä¼˜åŠ¿ä¸»è¦æœ‰ä¸¤ç‚¹ï¼š
         * 1ã€requestAnimationFrame ä¼šæŠŠæ¯ä¸€å¸§ä¸­çš„æ‰€æœ‰DOMæ“ä½œé›†ä¸­èµ·æ¥ï¼Œåœ¨ä¸€æ¬¡é‡ç»˜æˆ–å›æµä¸­å°±å®Œæˆï¼Œå¹¶ä¸”é‡ç»˜æˆ–å›æµçš„æ—¶é—´é—´éš”ç´§ç´§è·Ÿéšæµè§ˆå™¨çš„åˆ·æ–°é¢‘ç‡ï¼Œä¸€èˆ¬æ¥è¯´ï¼Œè¿™ä¸ªé¢‘ç‡ä¸ºæ¯ç§’60å¸§ã€‚
         * 2ã€åœ¨éšè—æˆ–ä¸å¯è§çš„å…ƒç´ ä¸­ï¼ŒrequestAnimationFrameå°†ä¸ä¼šè¿›è¡Œé‡ç»˜æˆ–å›æµï¼Œè¿™å½“ç„¶å°±æ„å‘³ç€æ›´å°‘çš„çš„cpuï¼Œgpuå’Œå†…å­˜ä½¿ç”¨é‡ã€‚
         * ä¸€ç§’é’Ÿ60å¸§
        */
        requestAnimationFrame(tick);
        // åˆå§‹åŒ–å‡½æ•°
        function init() {
            // è®¾ç½®å±å¹•å®½åº¦å’Œå¤ªé˜³å…‰èƒŒæ™¯çš„æ—‹è½¬
            onResize();
            // ç»‘å®šå¤©æ°”æŒ‰é’®
            for (var i = 0; i < weather.length; i++) {
                var w = weather[i];
                var b = $('#button-' + w.type);
                w.button = b;
                // åˆ¶é€ ç‚¹å‡»äº‹ä»¶
                b.bind('click', w, changeWeather);
            }
            // â˜ï¸ ç”»äº‘
            for (var i = 0; i < clouds.length; i++) {
                // éšæœºäº‘æœµçš„leftå’Œtop
                clouds[i].offset = Math.random() * sizes.card.width;
                drawCloud(clouds[i], i);
            }
            // â˜€ï¸ åˆå§‹åŒ–å¤©æ°”ï¼ˆç¬¬ä¸€ä¸ªå¤©æ°”ï¼‰
            // å› ä¸ºç¬¬ä¸€ä¸ªå¤©æ°”ä¸æ˜¯æ™´å¤©ï¼Œæ‰€ä»¥æ²¡æœ‰é˜³å…‰
            TweenMax.set(sunburst.node, { opacity: 0 });
            changeWeather(weather[0]);
        }
        // è®¾ç½®å±å¹•å®½åº¦å’Œå¤ªé˜³å…‰èƒŒæ™¯çš„æ—‹è½¬
        function onResize() {
            // èµ‹å€¼æˆçª—å£å®½åº¦
            sizes.container.width = container.width();
            // èµ‹å€¼æˆçª—å£é«˜åº¦
            sizes.container.height = container.height();
            // èµ‹å€¼æˆå¡ç‰‡å®½åº¦
            sizes.card.width = card.width();
            // èµ‹å€¼æˆå¡ç‰‡é«˜åº¦
            sizes.card.height = card.height();
            // èµ‹å€¼æˆå¡ç‰‡çš„topå’Œleft
            sizes.card.offset = card.offset();
            // æ›´æ–°innerç”»å¸ƒå¤§å°
            innerSVG.attr({
                width: sizes.card.width,
                height: sizes.card.height
            });
            // æ›´æ–°outerç”»å¸ƒå¤§å°,å’Œæ•´ä¸ªå±å¹•ä¸€æ ·å¤§å°
            outerSVG.attr({
                width: sizes.container.width,
                height: sizes.container.height
            });
            
            // æ›´æ–°backç”»å¸ƒå¤§å°,å’Œæ•´ä¸ªå±å¹•ä¸€æ ·å¤§å°
            backSVG.attr({
                width: sizes.container.width,
                height: sizes.container.height
            });

            // è®¾ç½®é˜³å…³èƒŒæ™¯å›¾çš„æ—‹è½¬åŠ¨ç”»æ•ˆæœ
            /**
             * è¿™é‡Œä½¿ç”¨çš„æ˜¯gsapä¸­çš„TwennMaxæ¨¡å—
             * ä½¿ç”¨æ–¹æ³•ï¼š
             * TweenMax.set(ç›®æ ‡å…ƒç´ ï¼Œè®¾ç½®èµ·ç‚¹)
             * TweenMax.fromTo(ç›®æ ‡å…ƒç´ ï¼Œæ—¶é—´ï¼Œè®¾ç½®åŠ¨ç”»èµ·ç‚¹ï¼Œè®¾ç½®åŠ¨ç”»ç»ˆç‚¹)
            */
            TweenMax.set(sunburst.node, { transformOrigin: "50% 50%", x: sizes.container.width / 2, y: sizes.card.height / 2 + sizes.card.offset.top });
            // Power0æ˜¯gsapä¸­çš„ä¸€ä¸ªåŠ¨ç”»æ•ˆæœæ¨¡å—ï¼Œå’Œease easeInç­‰å·®ä¸å¤š
            TweenMax.fromTo(sunburst.node, 20, { rotation: 0 }, { rotation: 360, repeat: -1, ease: Power0.easeInOut });
            // æ ‘å¶é®ç½©çš„å¤§å°å’Œæ–¹ä½
            leafMask.attr({ x: sizes.card.offset.left, y: 0, width: sizes.container.width - sizes.card.offset.left, height: sizes.container.height });
        }
        // åˆ¶ä½œäº‘
        function drawCloud(cloud, i) {
            /* 
                â˜ï¸æˆ‘ä»¬æƒ³åˆ›é€ ä¸€ä¸ªå¯å¾ªç¯çš„å½¢çŠ¶ï¼Œä½†ä¹Ÿå¯ä»¥
                é‡Œé‡Œå¤–å¤–éƒ½å¾ˆç”ŸåŠ¨ã€‚æ‰€ä»¥æˆ‘ä»¬ä½¿ç”¨Snap SVGæ¥ç»˜åˆ¶ä¸€ä¸ªå½¢çŠ¶
                æœ‰4ä¸ªéƒ¨åˆ†ã€‚ä¸¤ç«¯å’Œä¸¤ä¸ªæ‹±çš„å®½åº¦ä¸å¡ç‰‡ã€‚
            */

            var space = settings.cloudSpace * i;
            var height = space + settings.cloudHeight;
            var arch = height + settings.cloudArch + Math.random() * settings.cloudArch;
            var width = sizes.card.width;

            var points = [];
            points.push('M' + [-width, 0].join(','));
            points.push([width, 0].join(','));
            points.push('Q' + [width * 2, height / 2].join(','));
            points.push([width, height].join(','));
            points.push('Q' + [width * 0.5, arch].join(','));
            points.push([0, height].join(','));
            points.push('Q' + [width * -0.5, arch].join(','));
            points.push([-width, height].join(','));
            points.push('Q' + [-(width * 2), height / 2].join(','));
            points.push([-width, 0].join(','));

            var path = points.join(' ');
            // åŠ å…¥äº‘è‰²svgå›¾ç‰‡
            if (!cloud.path) cloud.path = cloud.group.path();
            cloud.path.animate({
                d: path
            },
                0);
        }
        // åˆ¶ä½œé›¨
        function makeRain() {
            // ğŸ’§ å¦‚ä½•ç”»é›¨
            // é¦–å…ˆæˆ‘ä»¬è®¾ç½®çº¿æ¡çš„å®½åº¦ï¼Œæˆ‘ä»¬ç”¨è¿™ä¸ª
            // æ¥æŒ‡å®šå®ƒå°†è¢«æ·»åŠ åˆ°å“ªä¸ªsvgç»„
            // æ˜¯å¦ä¼šå¼•èµ·æº…èµ·
            var lineWidth = Math.random() * 3;

            // â›ˆ å¯¹äºæš´é£é›¨å¤©æ°”ï¼Œçº¿é•¿åº¦å˜å¾—æ›´é•¿
            // ä¸‰å…ƒè¡¨è¾¾å¼ï¼Œa1 == a ? b : c å¦‚æœa1 == aæ˜¯trueï¼Œé‚£ä¹ˆå¾—å‡ºçš„ç»“æœæ˜¯bï¼Œåä¹‹æ˜¯c
            var lineLength = currentWeather.type == 'thunder' ? 35 : 14;

            // ä»é¡¶éƒ¨çš„ä¸€ä¸ªéšæœºç‚¹å¼€å§‹ä¸‹è½ï¼Œä½†æ˜¯è¦åŠ  20px margin 
            var x = Math.random() * (sizes.card.width - 40) + 20;

            // ç”»çº¿æ¡ï¼ˆå¡ç‰‡å†…çš„é›¨ï¼‰
            var line = this['innerRainHolder' + (3 - Math.floor(lineWidth))].path('M0,0 0,' + lineLength).attr({
                fill: 'none',
                stroke: currentWeather.type == 'thunder' ? '#777' : '#0000ff',
                strokeWidth: lineWidth
            });

            // å°†çº¿æ¡æ·»åŠ åˆ°ä¸€ä¸ªæ•°ç»„ä¸­
            rain.push(line);

            // å¼€å§‹ä¸‹è½åŠ¨ç”»ï¼ŒåŠ¨ç”»ç»“æŸæ—¶è°ƒç”¨onRainEnd
            TweenMax.fromTo(
                line.node, // é›¨çš„svg
                1, // æ—¶é—´
                { x: x, y: 0 - lineLength }, // åˆå§‹ä½ç½®
                { 
                    delay: Math.random(), // å»¶è¿Ÿéšæœº
                    y: sizes.card.height, // ç§»åŠ¨åˆ°ç›®æ ‡ä½ç½®
                    ease: Power2.easeIn, // ä»¥ä»€ä¹ˆé€Ÿåº¦ä¿æŒåŠ¨ç”»
                    onComplete: onRainEnd, // å®ŒæˆåŠ¨ç”»åè°ƒç”¨è¯¥å‡½æ•°
                    onCompleteParams: [line, lineWidth, x, currentWeather.type] // å‡½æ•°é‡Œéœ€è¦çš„å€¼
                }
            );
        }
        // é›¨ç»“æŸæ•ˆæœ
        // çº¿æ¡ çº¿æ¡å®½åº¦ é›¨çš„xè½´ä½ç½® é›¨çš„ç§ç±»
        function onRainEnd(line, width, x, type) {
            // é¦–å…ˆè®©æˆ‘ä»¬å»æ‰é›¨æ»´ ğŸ’§
            line.remove();
            line = null;

            // æˆ‘ä»¬ä¹Ÿå°†å®ƒä»æ•°ç»„ä¸­ç§»é™¤
            for (var i in rain) {
                if (!rain[i].paper) rain.splice(i, 1);
            }

            // å¦‚æœé›¨çš„æ•°é‡å°‘äºæˆ‘ä»¬è¦æ±‚çš„æ•°é‡ï¼Œå°±è¦åˆ¶é€ é›¨
            if (rain.length < settings.rainCount) {
                makeRain();

                // ğŸ’¦ å¦‚æœçº¿æ¡å®½åº¦å¤§äº2ï¼Œæˆ‘ä»¬å°±è¦åˆ¶é€ ä¸€ä¸ªæº…é£çš„æ•ˆæœï¼Œè¿™æ ·å°±çœ‹èµ·æ¥é›¨ä¸‹çš„å¤§
                if (width > 2) makeSplash(x, type);
            }
        }
        // åˆ¶ä½œé£æº…åŠ¨ç”»
        function makeSplash(x, type) {
            // ğŸ’¦ æˆ‘ä»¬è¦æŠŠå¤–æº…çš„é›¨åŠ å…¥åˆ°outersvgä¸­.
            // è®¾ç½®é•¿åº¦
            var splashLength = type == 'thunder' ? 30 : 20;
            // çº¿æ¡åœ¨ä¸‹è½å‰å‘ä¸Šå¼¯æ›²çš„æœ€å¤§é«˜åº¦
            var splashBounce = type == 'thunder' ? 120 : 100;
            // è¿™è®¾å®šäº†çº¿å¯ä»¥ä¸‹é™å¤šè¿œ
            var splashDistance = 80;

            // å› ä¸ºæš´é›¨æ›´é•¿ï¼Œæˆ‘ä»¬å¸Œæœ›åŠ¨ç”»æŒç»­çš„æ—¶é—´ç¨å¾®é•¿ä¸€ç‚¹ï¼Œæ‰€ä»¥ä¸¤è€…çš„æ•´ä½“é€Ÿåº¦å¤§è‡´ç›¸åŒ
            var speed = type == 'thunder' ? 0.7 : 0.5;

            // é£æº…åå¼¹,å€¼æ˜¯æ­£çš„ï¼Œåˆ™ä¸€è·¯å¾€ä¸‹ï¼Œä¸ä¼šåå¼¹ï¼Œå€¼æ˜¯è´Ÿçš„ï¼Œåå¼¹æ›´é‡
            var splashUp = 0 - Math.random() * splashBounce;

            // è®¾ç½®ç»“æŸxä½ç½®ï¼Œè¿›è€Œå®šä¹‰é£æº…æ–¹å‘ï¼Œé£æº…æ–¹å‘æ˜¯å–å†³äºå€¼æ˜¯æ­£è¿˜æ˜¯è´Ÿï¼Œæ­£å¾€å³ï¼Œè´Ÿå¾€å·¦
            var randomX = Math.random() * splashDistance - splashDistance / 2;
            //è®¾ç½®çš„ä¸‰ä¸ªåæ ‡æ”¾å…¥pointsä¸­ï¼Œåˆ†åˆ«æ˜¯èµ·ç‚¹ï¼Œåå¼¹ï¼Œæœ€åçš„ä¸‹è½çš„ç‚¹. 
            var points = [];
            points.push('M' + 0 + ',' + 0);
            points.push('Q' + randomX + ',' + splashUp);
            points.push(randomX * 2 + ',' + splashDistance);
            // ç”»å‡ºsvg
            var splash = outerSplashHolder.path(points.join(' ')).attr({
                fill: "none",
                stroke: type == 'thunder' ? '#777' : '#0000ff',
                strokeWidth: 1
            });
            // Snap.path.getTotalLength(path)
            // è¿”å›ç»™å®šè·¯å¾„çš„é•¿åº¦ï¼ˆä»¥åƒç´ ä¸ºå•ä½ï¼‰
            var pathLength = Snap.path.getTotalLength(splash);
            var xOffset = sizes.card.offset.left; //(sizes.container.width - sizes.card.width) / 2
            var yOffset = sizes.card.offset.top + sizes.card.height;
            // strokedasharrayå±æ€§ç”¨äºåˆ›å»ºè™šçº¿ 
            // stroke-dasharray = '10, 5' è¡¨ç¤ºï¼šè™šçº¿é•¿10ï¼Œé—´è·5ï¼Œç„¶åé‡å¤ è™šçº¿é•¿10ï¼Œé—´è·5
            splash.node.style.strokeDasharray = splashLength + ' ' + pathLength;

            // Start the splash animation, calling onSplashComplete when finished
            TweenMax.fromTo(
                splash.node, 
                speed, 
                { 
                    strokeWidth: 2, 
                    y: yOffset, 
                    x: xOffset + 20 + x, 
                    opacity: 1, 
                    // stroke-dashoffsetï¼š offsetï¼šåç§»çš„æ„æ€ã€‚
                    // è¿™ä¸ªå±æ€§æ˜¯ç›¸å¯¹äºèµ·å§‹ç‚¹çš„åç§»ï¼Œæ­£æ•°åç§»xå€¼çš„æ—¶å€™ï¼Œç›¸å½“äºå¾€å·¦ç§»åŠ¨äº†xä¸ªé•¿åº¦å•ä½ï¼Œè´Ÿæ•°åç§»xçš„æ—¶å€™ï¼Œç›¸å½“äºå¾€å³ç§»åŠ¨äº†xä¸ªé•¿åº¦å•ä½
                    strokeDashoffset: splashLength 
                }, { 
                    strokeWidth: 0, 
                    strokeDashoffset: -pathLength, 
                    opacity: 1, 
                    // ç»“æŸåŠ¨ç”»è°ƒç”¨å‡½æ•°
                    onComplete: onSplashComplete, 
                    onCompleteParams: [splash], 
                    ease: SlowMo.ease.config(0.4, 0.1, false) 
                }
            );
        }
        // ç»“æŸé£æº…åŠ¨ç”»
        function onSplashComplete(splash) {
            // ğŸ’¦ é£æº…å·²ç»å®ŒæˆåŠ¨ç”»ï¼Œæˆ‘ä»¬éœ€è¦ç§»é™¤å®ƒ
            splash.remove();
            splash = null;
        }
        // åˆ¶ä½œæ ‘å¶
        function makeLeaf() {
            // éšæœºæ”¾å¤§å€æ•°
            var scale = 0.5 + Math.random() * 0.5;
            var newLeaf;
            var areaY = sizes.card.height / 2;
            // åˆå§‹y
            var y = areaY + Math.random() * areaY;
            // ç»“æŸy
            var endY = y - (Math.random() * (areaY * 2) - areaY);
            // åˆå§‹x
            var x;
            // ç»“æŸx
            var endX;
            // éšæœºé¢œè‰²
            var colors = ['#76993E', '#4A5E23', '#6D632F'];
            var color = colors[Math.floor(Math.random() * colors.length)];
            // è´å¡å°”æ›²çº¿ï¼ˆåŠ¨ç”»ç§»åŠ¨æ›²çº¿ï¼‰
            var xBezier;

            if (scale > 0.8) {
                // åˆ›å»ºæ–°svg
                newLeaf = leaf.clone().appendTo(outerLeafHolder).
                    attr({
                        fill: color
                    });

                y = y + sizes.card.offset.top / 2;
                endY = endY + sizes.card.offset.top / 2;

                x = sizes.card.offset.left - 100;
                xBezier = x + (sizes.container.width - sizes.card.offset.left) / 2;
                endX = sizes.container.width + 50;
            } else {
                newLeaf = leaf.clone().appendTo(innerLeafHolder).
                    attr({
                        fill: color
                    });

                x = -100;
                xBezier = sizes.card.width / 2;
                endX = sizes.card.width + 50;

            }

            leafs.push(newLeaf);

            // æ›²çº¿åŠ¨ç”» ä¸‰ä¸ªç‚¹
            var bezier = [{ x: x, y: y }, { x: xBezier, y: Math.random() * endY + endY / 3 }, { x: endX, y: endY }];
            TweenMax.fromTo(
                newLeaf.node, 
                2, 
                { 
                    rotation: Math.random() * 180, 
                    x: x, 
                    y: y, 
                    scale: scale 
                }, { 
                    rotation: Math.random() * 360, 
                    bezier: bezier, 
                    onComplete: onLeafEnd, 
                    onCompleteParams: [newLeaf], 
                    ease: Power0.easeIn 
                }
            );
        }
        // ç§»é™¤æ ‘å¶
        function onLeafEnd(leaf) {
            leaf.remove();
            leaf = null;

            for (var i in leafs) {
                if (!leafs[i].paper) leafs.splice(i, 1);
            }
            // å½“æ ‘å¶æ²¡æœ‰çš„æ—¶å€™ï¼Œåˆ›å»ºæ–°æ ‘å¶
            if (leafs.length < settings.leafCount) {
                makeLeaf();
            }
        }
        // åˆ¶ä½œé›ª
        function makeSnow() {
            // éšæœºæ”¾å¤§å€æ•° 
            var scale = 0.5 + Math.random() * 0.5;
            var newSnow;
            // åˆå§‹x
            var x = 20 + Math.random() * (sizes.card.width - 40);
            // ç»“æŸx
            var endX; // = x - ((Math.random() * (areaX * 2)) - areaX)
            // åˆå§‹y
            var y = -10;
            // ç»“æŸy
            var endY;

            if (scale > 0.8) {
                newSnow = outerSnowHolder.circle(0, 0, 5).
                    attr({
                        fill: 'white'
                    });

                endY = sizes.container.height + 10;
                y = sizes.card.offset.top + settings.cloudHeight;
                x = x + sizes.card.offset.left;
                //xBezier = x + (sizes.container.width - sizes.card.offset.left) / 2;
                //endX = sizes.container.width + 50;
            } else {
                newSnow = innerSnowHolder.circle(0, 0, 5).
                    attr({
                        fill: 'white'
                    });

                endY = sizes.card.height + 10;
                //x = -100;
                //xBezier = sizes.card.width / 2;
                //endX = sizes.card.width + 50;
            }
            snow.push(newSnow);


            TweenMax.fromTo(
                newSnow.node, 
                3 + Math.random() * 5, // æ—¶é—´
                { x: x, y: y }, 
                { 
                    y: endY, 
                    onComplete: onSnowEnd, 
                    onCompleteParams: [newSnow], 
                    ease: Power0.easeIn 
                });
            TweenMax.fromTo(
                newSnow.node, 
                1, 
                { scale: 0 }, 
                { scale: scale, ease: Power1.easeInOut }
            );
            TweenMax.to(
                newSnow.node, 
                3, 
                { 
                    x: x + (Math.random() * 150 - 75), 
                    repeat: -1, // æ— é™å¾ªç¯
                    yoyo: true, // è·å–æˆ–è®¾ç½®æ—¶é—´è½´çš„yoyoçŠ¶æ€ï¼Œå¦‚æœä¸ºtrueï¼Œåˆ™æ—¶é—´è½´ä¼šå‰åç§»åŠ¨ï¼Œæ¯æ¬¡é‡å¤æ—¶ä¼šå‰åäº¤æ›¿ã€‚
                    ease: Power1.easeInOut 
                });
        }
        // ç§»é™¤é›ª
        function onSnowEnd(flake) {
            flake.remove();
            flake = null;

            for (var i in snow) {
                if (!snow[i].paper) snow.splice(i, 1);
            }

            if (snow.length < settings.snowCount) {
                makeSnow();
            }
        }
        // å¼€å§‹åŠ¨ç”»
        function tick() {
            // åˆ¶é€ é›¨ï¼Œæ ‘å¶ï¼Œé›ª
            if (rain.length < settings.rainCount) makeRain();
            if (leafs.length < settings.leafCount) makeLeaf();
            if (snow.length < settings.snowCount) makeSnow();
            // åˆ¤æ–­äº‘çš„ä½ç½®
            for (var i = 0; i < clouds.length; i++) {
                // å¦‚æœæ˜¯æ™´å¤©çš„è¯ï¼Œå°±æ¶ˆå¤±
                if (currentWeather.type == 'sun') {
                    if (clouds[i].offset > -(sizes.card.width * 1.5)) clouds[i].offset += settings.windSpeed / (i + 1);
                    if (clouds[i].offset > sizes.card.width * 2.5) clouds[i].offset = -(sizes.card.width * 1.5);
                    clouds[i].group.transform('t' + clouds[i].offset + ',' + 0);
                } else {
                    // å…¶ä»–å¤©æ°”éƒ½ä¿æŒåŠ¨ç”»
                    clouds[i].offset += settings.windSpeed / (i + 1);
                    if (clouds[i].offset > sizes.card.width) clouds[i].offset = 0 + (clouds[i].offset - sizes.card.width);
                    clouds[i].group.transform('t' + clouds[i].offset + ',' + 0);
                }
            }
            // ä¿æŒåŠ¨ç”»
            requestAnimationFrame(tick);
        }
        // é‡ç½®æŒ‰é’®activeå’Œå¤©æ°”ç»‘å®š
        function reset() {
            for (var i = 0; i < weather.length; i++) {
                container.removeClass(weather[i].type);
                weather[i].button.removeClass('active');
            }
        }
        // æ›´æ–°æ–‡å­—
        function updateSummaryText() {
            summary.html(currentWeather.name);
            TweenMax.fromTo(summary, 1.5, { x: 30 }, { opacity: 1, x: 0, ease: Power4.easeOut });
        }
        // æ˜æš—è®¡æ—¶å™¨
        function startLightningTimer() {
            // å…¶ä»–å¤©æ°”ï¼Œå…³é—­è®¡æ—¶å™¨
            if (lightningTimeout) clearTimeout(lightningTimeout);
            // å¦‚æœæ˜¯é›·é›¨å¤©ï¼Œå¼€å§‹è®¡æ—¶å™¨
            if (currentWeather.type == 'thunder') {
                // è°ƒç”¨æ˜æš—å‡½æ•°
                lightningTimeout = setTimeout(lightning, Math.random() * 6000);
            }
        }
        // å¡ç‰‡æ˜æš—äº®åº¦å˜åŒ–
        function lightning() {
            // é‡å¤å¯ç”¨ï¼Œå¾ªç¯é—ªç”µç‰¹æ•ˆå’ŒæŠ–åŠ¨ç”»é¢
            startLightningTimer()
            // å¡ç‰‡å˜æš—
            TweenMax.fromTo(card, 0.75, { y: -30 }, { y: 0, ease: Elastic.easeOut });
            // å¡ç‰‡æŠ–åŠ¨ï¼Œé›·é˜µé›¨å¤©
            var pathX = 30 + Math.random() * (sizes.card.width - 60);
            var yOffset = 20;
            // é—ªç”µçš„20ä¸ªæ³¢æ®µ
            var steps = 20;
            var points = [pathX + ',0'];
            // æ¯ä¸€ä¸ªæ³¢æ®µéƒ½è¦æœ‰ä¸€ç‚¹å€¾æ–œåº¦
            for (var i = 0; i < steps; i++) {
                var x = pathX + (Math.random() * yOffset - yOffset / 2);
                var y = sizes.card.height / steps * (i + 1);
                points.push(x + ',' + y);
            }
            // é—ªç”µ
            var strike = weatherContainer1.path('M' + points.join(' ')).
                attr({
                    fill: 'none',
                    stroke: 'white',
                    strokeWidth: 2 + Math.random()
                });
            TweenMax.to(
                strike.node, 
                1, 
                { 
                    opacity: 0, 
                    ease: Power4.easeOut, 
                    onComplete: function () {
                        // ç§»é™¤é—ªç”µ 
                        strike.remove(); 
                        strike = null; 
                    } 
                });
        }
        // æ”¹å˜å¤©æ°”æƒ…å†µ
        function changeWeather(weather) {
            if (weather.data) weather = weather.data;
            // é‡ç½®æŒ‰é’®å†…å®¹
            reset();
            // èµ‹å€¼å½“å‰å¤©æ°”
            currentWeather = weather;
            // å–æ¶ˆç‰¹å®šå¯¹è±¡çš„æ‰€æœ‰è¡¥é—´(æˆ–ç‰¹å®šè¡¥é—´å±æ€§)æˆ–å¯¹ç‰¹å®šå‡½æ•°çš„å»¶è¿Ÿè°ƒç”¨ã€‚ä¾‹å¦‚ï¼Œå¦‚æœæ‚¨æƒ³è¦æ€æ­»myObjectçš„æ‰€æœ‰è¡¥é—´åŠ¨ç”»
            TweenMax.killTweensOf(summary);
            // æ¯æ¬¡æ›´æ”¹å¤©æ°”çš„æ—¶å€™ï¼Œå¯¹åº”çš„æ–‡å­—ä¹Ÿè¦åˆ‡æ¢
            TweenMax.to(
                summary, // å¤©æ°”æ–‡å­—
                1, 
                { 
                    opacity: 0, 
                    x: -30, 
                    onComplete: updateSummaryText, // åˆ‡æ¢æ–‡å­—å‡½æ•°
                    ease: Power4.easeIn 
                });
            // åŠ å…¥å¯¹åº”çš„å¤©æ°”ç§ç±»
            container.addClass(weather.type);
            // æ¿€æ´»æŒ‰é’®çš„active
            weather.button.addClass('active');
            // é£é€Ÿå˜åŒ–
            switch (weather.type) {
                case 'wind':
                    TweenMax.to(settings, 3, { windSpeed: 3, ease: Power2.easeInOut });
                    break;
                case 'sun':
                    TweenMax.to(settings, 3, { windSpeed: 20, ease: Power2.easeInOut });
                    break;
                default:
                    TweenMax.to(settings, 3, { windSpeed: 0.5, ease: Power2.easeOut });
                    break;
            }
            // ä¸‹é›¨æ•°é‡
            switch (weather.type) {
                case 'rain':
                    TweenMax.to(settings, 3, { rainCount: 10, ease: Power2.easeInOut });
                    break;
                case 'thunder':
                    TweenMax.to(settings, 3, { rainCount: 60, ease: Power2.easeInOut });
                    break;
                default:
                    TweenMax.to(settings, 1, { rainCount: 0, ease: Power2.easeOut });
                    break;
            }
            // æ ‘å¶æ•°é‡
            switch (weather.type) {
                case 'wind':
                    TweenMax.to(settings, 3, { leafCount: 5, ease: Power2.easeInOut });
                    break;
                default:
                    TweenMax.to(settings, 1, { leafCount: 0, ease: Power2.easeOut });
                    break;
            }
            // ä¸‹é›ªæ•°é‡
            switch (weather.type) {
                case 'snow':
                    TweenMax.to(settings, 3, { snowCount: 40, ease: Power2.easeInOut });
                    break;
                default:
                    TweenMax.to(settings, 1, { snowCount: 0, ease: Power2.easeOut });
                    break;
            }
            // å¤ªé˜³ä½ç½®
            switch (weather.type) {
                case 'sun':
                    TweenMax.to(sun.node, 4, { x: sizes.card.width / 2, y: sizes.card.height / 2, ease: Power2.easeInOut });
                    TweenMax.to(sunburst.node, 4, { scale: 1, opacity: 0.8, y: sizes.card.height / 2 + sizes.card.offset.top, ease: Power2.easeInOut });
                    break;
                default:
                    TweenMax.to(sun.node, 2, { x: sizes.card.width / 2, y: -100, leafCount: 0, ease: Power2.easeInOut });
                    TweenMax.to(sunburst.node, 2, { scale: 0.4, opacity: 0, y: sizes.container.height / 2 - 50, ease: Power2.easeInOut });
                    break;
            }
            startLightningTimer();
        }
    </script>
</body>

</html>